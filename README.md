TODO:
use repository pattern as done with prescriptions
clean up the code in controllers
